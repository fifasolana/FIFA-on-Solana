<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FIFA Token Statistics</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            background-color: #033399; 
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .stats { 
            margin: 20px; 
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        .card {
            background-color: white;
            color: #033399;
            border-radius: 8px;
            padding: 20px;
            margin: 10px;
            width: 300px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .card img {
            width: 100%;
            border-radius: 8px 8px 0 0;
        }
        .card .container {
            padding: 16px;
        }
    </style>
</head>
<body>
    <h1>FIFA Token Statistics</h1>
    <div class="stats" id="stats"></div>
    <script>
        const players = [
            {
                name: 'Ronaldo',
                image: 'https://parimatchnews.com/wp-content/uploads/2021/01/Screenshot_1-634x640.png',
                ca: 'BHZDqqUuFJLX51upfnDjpNg5x4wniUQD88rLhE3oAP4j'
            },
            {
                name: 'PelÃ©',
                image: 'https://media.cnn.com/api/v1/images/stellar/prod/211212035603-022-pele-obit-restricted.jpg?q=h_3180,w_2515,x_0,y_0',
                ca: 'EDdoFGdpby82tS2JJ6X2koZhFkPK94hPv6RjmFvP6P3m'
            }
        ];

        function formatNumber(number) {
            if (number >= 1e6) {
                return `$${(number / 1e6).toFixed(1)}M`;
            } else if (number >= 1e3) {
                return `$${(number / 1e3).toFixed(1)}K`;
            } else {
                return `$${number}`;
            }
        }

        async function fetchTokenData(ca) {
            const url = `https://api.dexscreener.com/latest/dex/tokens/${ca}`;
            try {
                const response = await fetch(url);
                const data = await response.json();
                const tokenData = data.pairs.find(pair => pair.baseToken.address.toLowerCase() === ca.toLowerCase());
                return {
                    marketCap: tokenData ? tokenData.fdv : 'N/A',
                    priceUsd: tokenData ? tokenData.priceUsd : 'N/A',
                    holders: tokenData ? tokenData.liquidity.base : 'N/A', // Adjust based on the actual API response
                    volume24h: tokenData ? tokenData.volume.h24 : 'N/A'
                };
            } catch (error) {
                console.error('Error fetching token data:', error);
                return {
                    marketCap: 'N/A',
                    priceUsd: 'N/A',
                    holders: 'N/A',
                    volume24h: 'N/A'
                };
            }
        }

        async function displayPlayers() {
            const statsDiv = document.getElementById('stats');
            for (const player of players) {
                const tokenData = await fetchTokenData(player.ca);
                const playerCard = document.createElement('div');
                playerCard.className = 'card';
                playerCard.innerHTML = `
                    <img src="${player.image}" alt="${player.name}">
                    <div class="container">
                        <h4><b>${player.name}</b></h4>
                        <p>Contract Address: ${player.ca}</p>
                        <p>Market Cap: ${formatNumber(tokenData.marketCap)}</p>
                        <p>Price USD: $${tokenData.priceUsd.toFixed(2)}</p>
                        <p>Holders: ${tokenData.holders}</p>
                        <p>Volume 24h: ${formatNumber(tokenData.volume24h)}</p>
                    </div>
                `;
                statsDiv.appendChild(playerCard);
            }
        }

        displayPlayers();
    </script>
</body>
</html>
